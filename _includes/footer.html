{% assign image = page.footer | default: site.footer | relative_url %}
{% assign dark = page.footer-dark | is_nil: site.footer-dark | is_nil: true %}

<footer
  class="background"
  style="--image: url('{{ image }}'); background-color: #004483;"
  {% if dark == true or dark == false %}
    data-dark="{{ dark }}"
  {% endif %}
  data-size="wide"
>
  <!--
    <div>
      Extra details like contact info or address
    </div>
  -->


      <div id="map"></div>

    <script src="https://unpkg.com/jsvectormap"></script>
    <script src="https://unpkg.com/jsvectormap/dist/maps/world-merc.js"></script>

    <script>
      var markers = [
        { name: "Suwon", coords: [37.2636, 127.0286] },
        { name: "USA", coords: [37.0902, -95.7129] },
        { name: "India", coords: [20.5937, 78.9629] },
        { name: "Uzbekistan", coords: [41.3775, 64.5853] },
        { name: "Pakistan", coords: [30.3753, 69.3451] },
        { name: "France", coords: [46.6034, 1.8883] },
        { name: "Palestine", coords: [31.9522, 35.2332] }
      ];

      var jvm = new jsVectorMap({
        map: "world_merc",
        selector: "#map",
        zoomButtons: true,
        zoomOnScroll: true,

        regionStyle: {
          initial: {
            fill: "#d1d5db"
          }
        },

        labels: {
          markers: {
            render: (marker) => marker.name
          }
        },

        markersSelectable: true,
        selectedMarkers: markers.map((marker, index) => {
          var name = marker.name;

          if (name === "Suwon" || name === "Brazil") {
            return index;
          }
        }),
        markers: markers,
        markerStyle: {
          initial: { fill: "#5c5cff" },
          selected: { fill: "#ff5050" }
        },
        markerLabelStyle: {
          initial: {
            fontFamily: "Roboto",
            fontWeight: 400,
            fontSize: 13
          }
        }
      });
    </script>

  <div>
    {% for link in site.links %}
      {% assign key = link[0] %}
      {% assign value = link[1] %}
      {% include button.html type=key text="" link=value style="bare" %}
    {% endfor %}
  </div>

  <div>
    &copy; {{ site.time | date: "%Y" }}
    {{ site.title }}
    </a>
  </div>

  <!--
  <input
    type="checkbox"
    class="dark-toggle"
    data-tooltip="Dark mode"
    aria-label="toggle dark mode"
    oninput="onDarkToggleChange(event)"
  >
-->
</footer>
