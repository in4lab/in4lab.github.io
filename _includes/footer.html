{% assign image = page.footer | default: site.footer | relative_url %}
{% assign dark = page.footer-dark | is_nil: site.footer-dark | is_nil: true %}

<footer
  class="background"
  style="--image: url('{{ image }}'); background-color: #004483;"
  {% if dark == true or dark == false %}
    data-dark="{{ dark }}"
  {% endif %}
  data-size="wide"
>
  <!--
    <div>
      Extra details like contact info or address
    </div>
  -->

  <div>
    {% for link in site.links %}
      {% assign key = link[0] %}
      {% assign value = link[1] %}
      {% include button.html type=key text="" link=value style="bare" %}
    {% endfor %}
  </div>

  <div>
    &copy; {{ site.time | date: "%Y" }}
    {{ site.title }}
    </a>
  </div>

      <div id="map"></div>

    <script src="https://unpkg.com/jsvectormap"></script>
    <script src="https://unpkg.com/jsvectormap/dist/maps/world-merc.js"></script>

    <script>
      var markers = [
        { name: "Egypt", coords: [26.8206, 30.8025] },
        { name: "Russia", coords: [61.524, 105.3188] },
        { name: "Canada", coords: [56.1304, -106.3468] },
        { name: "Greenland", coords: [71.7069, -42.6043] },
        { name: "Brazil", coords: [-14.235, -51.9253] }
      ];

      var jvm = new jsVectorMap({
        map: "world_merc",
        selector: "#map",
        zoomButtons: true,
        zoomOnScroll: true,

        regionStyle: {
          initial: {
            fill: "#d1d5db"
          }
        },

        labels: {
          markers: {
            render: (marker) => marker.name
          }
        },

        markersSelectable: true,
        selectedMarkers: markers.map((marker, index) => {
          var name = marker.name;

          if (name === "Russia" || name === "Brazil") {
            return index;
          }
        }),
        markers: markers,
        markerStyle: {
          initial: { fill: "#5c5cff" },
          selected: { fill: "#ff5050" }
        },
        markerLabelStyle: {
          initial: {
            fontFamily: "Roboto",
            fontWeight: 400,
            fontSize: 13
          }
        }
      });
    </script>

    <nav style="position: absolute; top: 0; left: 0; width: 100%; z-index: 5;">
      <a
        class="github-button"
        href="https://github.com/themustafaomar/jsvectormap"
        data-color-scheme="no-preference: light; light: light; dark: dark;"
        data-icon="octicon-star"
        data-size="large"
        data-show-count="true"
        aria-label="Star themustafaomar/jsvectormap on GitHub"
        >Star</a
      >
      <a
        class="github-button"
        href="https://github.com/themustafaomar/jsvectormap/issues"
        data-color-scheme="no-preference: light; light: light; dark: dark;"
        data-icon="octicon-issue-opened"
        data-size="large"
        data-show-count="true"
        aria-label="Issue themustafaomar/jsvectormap on GitHub"
        style="margin-left: 1rem;"
        >Issue</a
      >
    </nav>

  <!--
  <input
    type="checkbox"
    class="dark-toggle"
    data-tooltip="Dark mode"
    aria-label="toggle dark mode"
    oninput="onDarkToggleChange(event)"
  >
-->
</footer>
